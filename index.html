<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Calculadora de Horas</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 400px; margin: 40px auto; padding: 20px; border: 1px solid #ccc; border-radius: 10px; }
  label, input, select, button { display: block; width: 100%; margin-bottom: 15px; font-size: 1rem; }
  button { background-color: #0078D7; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; }
  button:hover { background-color: #005A9E; }
  pre { white-space: pre-wrap; background: #f0f0f0; padding: 10px; border-radius: 5px; }
</style>
</head>
<body>
<h2>Calculadora de Horas</h2>
<label for="hora">Hora de Ingreso (HH:MM)</label>
<input type="time" id="hora" required />

<label><input type="checkbox" id="salidaTemporal" /> Salida Temporal</label>

<label for="intervalo">DuraciÃ³n de la salida temporal</label>
<select id="intervalo">
  <option value="0">0 min</option>
  <option value="10">10 min</option>
  <option value="20">20 min</option>
  <option value="30">30 min</option>
  <option value="40">40 min</option>
  <option value="50">50 min</option>
  <option value="60">60 min</option>
  <option value="70">70 min</option>
  <option value="80">80 min</option>
  <option value="90">90 min</option>
  <option value="100">100 min</option>
  <option value="110">110 min</option>
  <option value="120">120 min</option>
</select>

<button onclick="calcularHoras()">Calcular</button>

<pre id="resultado"></pre>

<script>
  function calcularHoras() {
    const horaInput = document.getElementById("hora").value;
    const salidaTemporal = document.getElementById("salidaTemporal").checked;
    const intervalo = parseInt(document.getElementById("intervalo").value);
    const resultado = document.getElementById("resultado");

    if (!horaInput) {
      resultado.textContent = "Por favor, ingresa una hora vÃ¡lida (HH:MM).";
      return;
    }

    const [hora, minuto] = horaInput.split(":").map(Number);
    const ingreso = new Date();
    ingreso.setHours(hora, minuto, 0, 0);

    const sumarMinutos = (fecha, mins) => new Date(fecha.getTime() + mins * 60000);

    const cincoHoras = sumarMinutos(ingreso, 5 * 60);
    const seisCuarenta = sumarMinutos(ingreso, 6 * 60 + 40);

    const cincoHorasAjustada = salidaTemporal ? sumarMinutos(cincoHoras, intervalo) : cincoHoras;
    const seisCuarentaAjustada = salidaTemporal ? sumarMinutos(seisCuarenta, intervalo) : seisCuarenta;

    const formatearHora = (fecha) => fecha.toTimeString().substring(0, 5);

    let mensaje = `Hora de Ingreso: ${formatearHora(ingreso)}\n`;
    mensaje += `+5 horas: ${formatearHora(cincoHoras)}\n`;
    mensaje += `+6h40min: ${formatearHora(seisCuarenta)}\n`;

    if (salidaTemporal && intervalo > 0) {
      mensaje += `\nðŸ”¹ Con salida temporal de ${intervalo} min:\n`;
      mensaje += `+5 horas ajustado: ${formatearHora(cincoHorasAjustada)}\n`;
      mensaje += `+6h40min ajustado: ${formatearHora(seisCuarentaAjustada)}`;
    }

    resultado.textContent = mensaje;
  }
</script>
</body>
</html>
